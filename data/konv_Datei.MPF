
;EBA_Cura
;Version 1.02
;Stand: 17.08.2021
;Ersteller: Hengst

;-------------Programmhinweise-----------------
;Programmcode geht vom Modellmittelpunkt aus 
;--> aktuelle Tischposition wird Modellmittelpunkt!
;Arbeitsfeldbegrenzung beachten! (sollte eigentlich vorausberechnet werden)
;Die Verfahrgeschwindigkeiten und die Layerhoehen sind im Cura festzulegen!
;Downslope ohne Z-Verfahrbefehl

;-------------Definitionsbereich---------------
DEF REAL _SLoff, _v, _UpS, _DoS, _vD ,_Hd, _XSTART, _YSTART 
DEF REAL _ZSTART, _ZDSTART, _SQb, _vs, _Rueck, _DRueck, _tups, _tdos
DEF INT  _KWH

DEF BOOL _POSITIONIEREN = 1        ;1 = Positionierung nutzen
;_Layer = 0                        ;0 Neustart, 1,2,... Start bei Layer n
;ist noch nicht implementiert

;=================== Prozessparameter ======================
;EB-Parameter
_SQH = 45           ;Strahlstrom  Behandlung [mA]
_SLH = 1650          ;Linsenstrom  Behandlung [mA]
_SLoff = 0           ;Linsenoffset Behandlung [mA]
_vs   = 15           ;wird nicht verwendet!!! Vorschubgeschwindigkeit [mm/s]
_SWXs= 1             ;Feldgroesse X
_SWYs= 1             ;Feldgroesse Y
_UpS = 0             ;Upslope [mm]
_DoS = 0             ;Downslope [mm]
_tups= 0.25          ;Ausgleichzeit Upslope [s]
_tdos= 0.25          ;Ausgleichzeit Downslope [s]

;Draht-Parameter
_Hd  = 0.8            ;Hoehedifferenz von Lage zu Lage [mm]
_vD  = 2.5              ;Vorschubges. Draht [m/min]
_DRueck = 4           ;Drahtr√ºckzug in [mm] ueber _vD berechnet

;Beobachten-Parameter
_SQb = 1              ;Beobachten Strahlstrom [mA]
_SLb = 1675           ;Beobachten Linsenstrom [mA]

;Allgemeine-Parameter
_KWH = 3425           ;Kalibrierwert
_HV = 60              ;Hochspannung [kV]
_FP = 20              ;Positionierungsgeschwindigkeit [mm/s]

;=================== Hauptprogramm ======================
INITIAL
KALWERT(_KWH)

;-- Abarbeiten der Layer--
;FOR _LAYERZAHL = 1 TO _LAYER
;REPEAT Layer"<<_TEILE<<"
;ENDFOR

_Rueck = (_DRueck/1000)/(_vD*60)

;-------Positionierung des Modelmittelpunktes------------
IF _POSITIONIEREN == 1

MSG("Mittelpunkt des Modells positionieren und [Cycle Start] druecken!")
WRT (B_SWX,20,B_SL,_SLb,Auff,1)
SNS

ELO_EIN(22)
G4 F0.5
G0 SQ _SQb) SL _SLb)

HDWS_X
HDWS_Y
MSG()

SQ 0)
ELO_AUS

ENDIF

;Istwertuebergabe von der aktuellen Position!
_XSTART=$AA_IM[X]      ;X-Istwertuebernahme
_YSTART=$AA_IM[Y]      ;Y-Istwertuebernahme
_ZSTART=$AA_IM[Z]      ;Z-Istwertuebernahme
_ZDSTART=$AA_IM[ZD]    ;ZD-Istwertuebernahme

M96

;--------EB-Figur laden------------

;Parametrieren Hauptfigur
WRT(S_FIG,7,S_FRQ,3700,S_SWX,_SWXs,S_SWY,_SWYs)
SNS
VEKTOR_XY

;Nullpunktverschiebung
G17 G55
TRANS X=_XSTART Y=_YSTART

;---------------Hauptteil-------------------
M00
;Hier startet das Cura Programm
;Layer:1
G1 F360 X16.448 Y-31.204 Z=_ZSTART
REPEAT UPSLOPE ENDLABEL
G1 X15.7 Y-28.761 
G1 X15.126 Y-26.929 
G1 X14.509 Y-25.032 
G1 X13.834 Y-23.059 
G1 X4.542 Y2.93 
G1 X1.956 Y10.16 
G1 X0.707 Y10.16 
G1 X0.706 Y10.16 
G1 X-1.484 Y10.16 
G1 X-.692 Y8.118 
G1 X1.741 Y1.853 
G1 X11.729 Y-23.876 
G1 X12.483 Y-25.818 
G1 X13.204 Y-27.674 
G1 X13.898 Y-29.46 
G1 X14.82 Y-31.835 
G1 X15.4 Y-33.327 
G1 X16.448 Y-33.327 
G1 X18.682 Y-33.327 
G1 X19.648 Y-33.327 
G1 X20.244 Y-31.801 
G1 X21.518 Y-28.544 
G1 X22.241 Y-26.695 
G1 X22.947 Y-24.89 
G1 X23.517 Y-23.432 
G1 X36.256 Y9.144 
G1 X36.654 Y10.16 
G1 X33.659 Y10.16 
G1 X21.431 Y-22.616 
G1 X20.894 Y-24.087 
G1 X20.267 Y-25.922 
G1 X19.669 Y-27.821 
G1 X18.682 Y-31.19 
G1 X16.448 Y-31.204 
REPEAT DOWNSLOPE ENDLABEL
G1 X16.214 Y-30.439

G1 X-37.444 Y-30.873
REPEAT UPSLOPE ENDLABEL
G1 X-37.444 Y-12.031 
G1 X-11.733 Y-12.031 
G1 X-11.733 Y-9.577 
G1 X-37.444 Y-9.577 
G1 X-37.444 Y7.642 
G1 X-9.98 Y7.642 
G1 X-9.98 Y10.16 
G1 X-37.444 Y10.16 
G1 X-40.612 Y10.16 
G1 X-40.612 Y-33.327 
G1 X-37.444 Y-33.327 
G1 X-8.941 Y-33.327 
G1 X-8.941 Y-30.873 
G1 X-37.444 Y-30.873 
REPEAT DOWNSLOPE ENDLABEL
G1 X-37.444 Y-30.073
G1 X-12.34 Y99.633
REPEAT UPSLOPE ENDLABEL
G1 X-13.09 Y99.367 
G1 X-15.062 Y98.668 
G1 X-15.544 Y98.497 
G1 X-18.423 Y97.347 
G1 X-21.256 Y96.086 
G1 X-24.039 Y94.714 
G1 X-26.745 Y93.245 
G1 X-29.431 Y91.649 
G1 X-32.033 Y89.964 
G1 X-34.578 Y88.168 
G1 X-37.037 Y86.286 
G1 X-39.412 Y84.317 
G1 X-41.745 Y82.224 
G1 X-43.961 Y80.073 
G1 X-46.106 Y77.822 
G1 X-48.154 Y75.498 
G1 X-50.111 Y73.094 
G1 X-51.97 Y70.619 
G1 X-53.739 Y68.063 
G1 X-55.405 Y65.442 
G1 X-56.969 Y62.753 
G1 X-58.424 Y60.013 
G1 X-59.761 Y57.239 
G1 X-61.007 Y54.373 
G1 X-62.131 Y51.483 
G1 X-63.141 Y48.551 
G1 X-64.036 Y45.583 
G1 X-64.811 Y42.594 
G1 X-65.478 Y39.535 
G1 X-66.019 Y36.489 
G1 X-66.44 Y33.425 
G1 X-66.746 Y30.314 
G1 X-66.925 Y27.249 
G1 X-66.986 Y24.101 
G1 X-66.986 Y-59.275 
G1 X-66.986 Y-60.775 
G1 X-65.486 Y-60.775 
G1 X-11.754 Y-60.74 
G1 X20.96 Y-60.733 
G1 X24.071 Y-60.67 
G1 X27.096 Y-60.489 
G1 X30.185 Y-60.179 
G1 X33.189 Y-59.755 
G1 X36.225 Y-59.202 
G1 X39.2 Y-58.537 
G1 X42.18 Y-57.744 
G1 X45.111 Y-56.836 
G1 X47.982 Y-55.82 
G1 X50.855 Y-54.672 
G1 X53.629 Y-53.432 
G1 X56.393 Y-52.061 
G1 X59.068 Y-50.599 
G1 X61.696 Y-49.023 
G1 X64.282 Y-47.328 
G1 X66.75 Y-45.564 
G1 X69.183 Y-43.674 
G1 X71.535 Y-41.691 
G1 X73.779 Y-39.641 
G1 X75.978 Y-37.463 
G1 X78.064 Y-35.226 
G1 X80.047 Y-32.921 
G1 X81.97 Y-30.495 
G1 X83.774 Y-28.022 
G1 X85.474 Y-25.484 
G1 X87.078 Y-22.867 
G1 X88.439 Y-20.436 
G1 X88.546 Y-20.245 
G1 X88.58 Y-20.184 
G1 X88.602 Y-20.14 
G1 X89.498 Y-18.378 
G1 X89.962 Y-17.466 
G1 X90.42 Y-16.468 
G1 X91.273 Y-14.607 
G1 X91.287 Y-14.576 
G1 X91.603 Y-14.034 
G1 X91.98 Y-13.643 
G1 X92.247 Y-13.366 
G1 X92.906 Y-12.984 
G1 X93.8 Y-12.719 
G1 X94.563 Y-12.715 
G1 X95.467 Y-12.927 
G1 X96.134 Y-13.3 
G1 X96.814 Y-13.932 
G1 X97.209 Y-14.585 
G1 X97.481 Y-15.451 
G1 X97.52 Y-16.148 
G1 X97.52 Y-16.15 
G1 X97.117 Y-17.955 
G1 X96.691 Y-19.761 
G1 X96.629 Y-20.02 
G1 X96.113 Y-22.068 
G1 X95.565 Y-24.101 
G1 X94.989 Y-26.115 
G1 X94.381 Y-28.111 
G1 X93.833 Y-29.81 
G1 X93.744 Y-30.087 
G1 X93.078 Y-32.045 
G1 X92.38 Y-33.983 
G1 X91.65 Y-35.9 
G1 X91.518 Y-36.23 
G1 X90.892 Y-37.797 
G1 X90.102 Y-39.672 
G1 X89.281 Y-41.525 
G1 X88.429 Y-43.356 
G1 X87.545 Y-45.165 
G1 X86.629 Y-46.95 
G1 X85.681 Y-48.711 
G1 X84.702 Y-50.448 
G1 X83.691 Y-52.16 
G1 X82.694 Y-53.771 
G1 X82.647 Y-53.847 
G1 X81.57 Y-55.507 
G1 X80.461 Y-57.142 
G1 X79.32 Y-58.751 
G1 X78.145 Y-60.331 
G1 X76.938 Y-61.883 
G1 X75.696 Y-63.407 
G1 X74.492 Y-64.821 
G1 X74.422 Y-64.903 
G1 X73.115 Y-66.368 
G1 X71.773 Y-67.805 
G1 X70.398 Y-69.21 
G1 X68.989 Y-70.584 
G1 X68.805 Y-70.756 
G1 X67.546 Y-71.927 
G1 X66.068 Y-73.238 
G1 X64.557 Y-74.516 
G1 X63.01 Y-75.762 
G1 X61.429 Y-76.973 
G1 X59.814 Y-78.15 
G1 X58.164 Y-79.292 
G1 X56.48 Y-80.4 
G1 X54.76 Y-81.472 
G1 X53.055 Y-82.479 
G1 X53.005 Y-82.509 
G1 X51.214 Y-83.508 
G1 X49.39 Y-84.469 
G1 X47.529 Y-85.394 
G1 X45.633 Y-86.28 
G1 X43.701 Y-87.128 
G1 X41.734 Y-87.936 
G1 X39.732 Y-88.706 
G1 X37.692 Y-89.434 
G1 X35.617 Y-90.122 
G1 X33.507 Y-90.769 
G1 X31.36 Y-91.375 
G1 X28.687 Y-92.064 
G1 X26.848 Y-92.486 
G1 X26.456 Y-92.576 
G1 X24.193 Y-93.045 
G1 X23.606 Y-93.153 
G1 X21.891 Y-93.47 
G1 X19.555 Y-93.852 
G1 X17.181 Y-94.189 
G1 X14.77 Y-94.481 
G1 X12.322 Y-94.729 
G1 X9.837 Y-94.93 
G1 X7.314 Y-95.086 
G1 X4.753 Y-95.194 
G1 X2.153 Y-95.256 
G1 X-18.429 Y-95.256 
G1 X-89.048 Y-95.256 
G1 X-89.338 Y-95.196 
G1 X-90.102 Y-95.037 
G1 X-91.273 Y-94.723 
G1 X-92.406 Y-94.327 
G1 X-92.657 Y-94.218 
G1 X-93.49 Y-93.854 
G1 X-93.67 Y-93.758 
G1 X-94.52 Y-93.304 
G1 X-94.614 Y-93.244 
G1 X-95.496 Y-92.678 
G1 X-95.519 Y-92.66 
G1 X-96.409 Y-91.98 
G1 X-97.257 Y-91.214 
G1 X-98.041 Y-90.38 
G1 X-98.722 Y-89.523 
G1 X-98.754 Y-89.483 
G1 X-99.313 Y-88.646 
G1 X-99.394 Y-88.525 
G1 X-99.841 Y-87.72 
G1 X-99.959 Y-87.509 
G1 X-100.312 Y-86.738 
G1 X-100.449 Y-86.44 
G1 X-100.857 Y-85.319 
G1 X-101.187 Y-84.152 
G1 X-101.5 Y-82.583 
G1 X-101.5 Y-62.684 
G1 X-101.5 Y6.808 
G1 X-101.499 Y6.832 
G1 X-101.359 Y9.338 
G1 X-101.176 Y11.82 
G1 X-100.948 Y14.285 
G1 X-100.677 Y16.728 
G1 X-100.363 Y19.152 
G1 X-100.005 Y21.555 
G1 X-99.604 Y23.936 
G1 X-99.161 Y26.295 
G1 X-98.675 Y28.633 
G1 X-98.146 Y30.946 
G1 X-97.577 Y33.236 
G1 X-96.965 Y35.503 
G1 X-96.312 Y37.745 
G1 X-95.618 Y39.961 
G1 X-94.882 Y42.152 
G1 X-94.107 Y44.316 
G1 X-93.486 Y45.944 
G1 X-93.291 Y46.453 
G1 X-92.435 Y48.563 
G1 X-91.538 Y50.644 
G1 X-90.603 Y52.696 
G1 X-90.589 Y52.726 
G1 X-89.847 Y54.267 
G1 X-89.787 Y54.387 
G1 X-88.93 Y56.095 
G1 X-88.844 Y56.266 
G1 X-87.8 Y58.237 
G1 X-86.717 Y60.176 
G1 X-85.596 Y62.085 
G1 X-84.437 Y63.962 
G1 X-83.24 Y65.807 
G1 X-82.006 Y67.618 
G1 X-80.734 Y69.396 
G1 X-79.426 Y71.139 
G1 X-79.344 Y71.243 
G1 X-78.19 Y72.709 
G1 X-78.081 Y72.848 
G1 X-76.7 Y74.522 
G1 X-75.282 Y76.16 
G1 X-73.828 Y77.762 
G1 X-72.338 Y79.327 
G1 X-70.814 Y80.854 
G1 X-69.255 Y82.344 
G1 X-67.66 Y83.793 
G1 X-66.032 Y85.205 
G1 X-64.368 Y86.576 
G1 X-62.672 Y87.906 
G1 X-60.941 Y89.196 
G1 X-59.177 Y90.443 
G1 X-59.132 Y90.473 
G1 X-57.381 Y91.649 
G1 X-55.718 Y92.707 
G1 X-55.551 Y92.813 
G1 X-53.689 Y93.933 
G1 X-51.796 Y95.008 
G1 X-49.87 Y96.04 
G1 X-47.914 Y97.027 
G1 X-45.925 Y97.968 
G1 X-45.749 Y98.046 
G1 X-44.137 Y98.761 
G1 X-43.907 Y98.863 
G1 X-41.858 Y99.712 
G1 X-39.778 Y100.512 
G1 X-39.397 Y100.648 
G1 X-37.688 Y101.26 
G1 X-37.668 Y101.267 
G1 X-36.058 Y101.796 
G1 X-35.048 Y102.128 
G1 X-34.451 Y102.305 
G1 X-32.871 Y102.773 
G1 X-32.756 Y102.804 
G1 X-31.007 Y103.277 
G1 X-30.667 Y103.37 
G1 X-29.326 Y103.697 
G1 X-28.434 Y103.915 
G1 X-27.591 Y104.099 
G1 X-26.174 Y104.41 
G1 X-25.872 Y104.468 
G1 X-24.027 Y104.826 
G1 X-23.886 Y104.854 
G1 X-22.25 Y105.13 
G1 X-21.57 Y105.246 
G1 X-19.227 Y105.586 
G1 X-18.692 Y105.651 
G1 X-16.857 Y105.874 
G1 X-14.363 Y106.117 
G1 X-14.307 Y106.114 
G1 X-13.688 Y106.079 
G1 X-13.091 Y105.935 
G1 X-12.531 Y105.691 
G1 X-12.025 Y105.355 
G1 X-11.585 Y104.937 
G1 X-11.223 Y104.449 
G1 X-10.951 Y103.905 
G1 X-10.777 Y103.322 
G1 X-10.707 Y102.717 
G1 X-10.742 Y102.11 
G1 X-10.883 Y101.517 
G1 X-11.123 Y100.959 
G1 X-11.457 Y100.449 
G1 X-11.854 Y100.028 
G1 X-12.34 Y99.633 
REPEAT DOWNSLOPE ENDLABEL
G1 X-13.09 Y99.367
G1 X-13.094 Y99.366
G1 X100.255 Y106.5
REPEAT UPSLOPE ENDLABEL
G1 X100.255 Y26.051 
G1 X99.915 Y23.084 
G1 X99.535 Y20.259 
G1 X99.108 Y17.507 
G1 X98.634 Y14.825 
G1 X98.117 Y12.215 
G1 X97.556 Y9.672 
G1 X96.952 Y7.198 
G1 X96.306 Y4.792 
G1 X95.62 Y2.451 
G1 X94.895 Y0.176 
G1 X94.131 Y-2.033 
G1 X93.33 Y-4.18 
G1 X92.679 Y-5.798 
G1 X91.817 Y-7.829 
G1 X90.917 Y-9.805 
G1 X89.985 Y-11.718 
G1 X89.793 Y-12.087 
G1 X89.382 Y-12.876 
G1 X89.092 Y-13.432 
G1 X89.019 Y-13.573 
G1 X88.023 Y-15.368 
G1 X87.606 Y-16.074 
G1 X86.997 Y-17.106 
G1 X86.059 Y-18.602 
G1 X85.943 Y-18.787 
G1 X85.822 Y-18.969 
G1 X84.86 Y-20.412 
G1 X83.75 Y-21.982 
G1 X82.615 Y-23.497 
G1 X81.455 Y-24.959 
G1 X80.273 Y-26.367 
G1 X79.068 Y-27.724 
G1 X77.842 Y-29.03 
G1 X76.597 Y-30.286 
G1 X75.334 Y-31.495 
G1 X74.051 Y-32.654 
G1 X72.754 Y-33.765 
G1 X71.441 Y-34.83 
G1 X70.115 Y-35.85 
G1 X68.775 Y-36.826 
G1 X67.424 Y-37.758 
G1 X66.064 Y-38.646 
G1 X64.694 Y-39.493 
G1 X63.315 Y-40.301 
G1 X61.93 Y-41.067 
G1 X60.539 Y-41.795 
G1 X59.144 Y-42.485 
G1 X57.745 Y-43.138 
G1 X56.345 Y-43.756 
G1 X54.935 Y-44.341 
G1 X51.827 Y-45.517 
G1 X49.031 Y-46.441 
G1 X46.259 Y-47.245 
G1 X43.513 Y-47.938 
G1 X40.804 Y-48.528 
G1 X38.141 Y-49.023 
G1 X35.532 Y-49.43 
G1 X32.985 Y-49.758 
G1 X30.511 Y-50.014 
G1 X28.073 Y-50.209 
G1 X-56.505 Y-50.209 
G1 X-56.505 Y30.036 
G1 X-56.163 Y33.282 
G1 X-55.702 Y36.462 
G1 X-55.12 Y39.624 
G1 X-54.416 Y42.759 
G1 X-53.594 Y45.866 
G1 X-52.652 Y48.939 
G1 X-51.592 Y51.974 
G1 X-50.417 Y54.965 
G1 X-49.127 Y57.909 
G1 X-47.726 Y60.801 
G1 X-46.214 Y63.638 
G1 X-44.595 Y66.414 
G1 X-42.87 Y69.125 
G1 X-41.043 Y71.769 
G1 X-39.115 Y74.341 
G1 X-37.089 Y76.836 
G1 X-34.969 Y79.252 
G1 X-32.759 Y81.584 
G1 X-30.46 Y83.83 
G1 X-28.076 Y85.986 
G1 X-25.611 Y88.049 
G1 X-23.069 Y90.015 
G1 X-20.453 Y91.883 
G1 X-17.768 Y93.647 
G1 X-15.016 Y95.309 
G1 X-14.034 Y95.852 
G1 X-12.203 Y96.863 
G1 X-11.202 Y97.365 
G1 X-10.655 Y97.64 
G1 X-10.169 Y97.885 
G1 X-9.331 Y98.307 
G1 X-6.407 Y99.641 
G1 X-3.434 Y100.861 
G1 X-.416 Y101.966 
G1 X2.642 Y102.953 
G1 X5.736 Y103.824 
G1 X8.862 Y104.573 
G1 X12.013 Y105.204 
G1 X15.186 Y105.712 
G1 X18.378 Y106.098 
G1 X21.58 Y106.36 
G1 X24.795 Y106.5 
G1 X100.255 Y106.5 
REPEAT DOWNSLOPE ENDLABEL
G1 X100.255 Y105.7
G1 X100.46 Y-16.743
REPEAT UPSLOPE ENDLABEL
G1 X101.153 Y-13.318 
G1 X101.794 Y-9.699 
G1 X102.354 Y-6.042 
G1 X102.837 Y-2.316 
G1 X103.255 Y1.612 
G1 X103.255 Y26.051 
G1 X103.255 Y106.5 
G1 X103.255 Y109.5 
G1 X100.255 Y109.5 
G1 X24.795 Y109.5 
G1 X-5.926 Y109.5 
G1 X-7.497 Y109.476 
G1 X-9.45 Y109.419 
G1 X-11.388 Y109.328 
G1 X-13.335 Y109.203 
G1 X-14.552 Y109.103 
G1 X-14.608 Y109.099 
G1 X-15.264 Y109.044 
G1 X-17.14 Y108.856 
G1 X-17.211 Y108.848 
G1 X-19.053 Y108.628 
G1 X-19.632 Y108.549 
G1 X-20.914 Y108.373 
G1 X-22.031 Y108.199 
G1 X-22.75 Y108.086 
G1 X-24.397 Y107.8 
G1 X-24.597 Y107.765 
G1 X-26.441 Y107.408 
G1 X-26.795 Y107.333 
G1 X-28.232 Y107.027 
G1 X-29.108 Y106.825 
G1 X-30.036 Y106.609 
G1 X-31.398 Y106.265 
G1 X-31.789 Y106.166 
G1 X-33.536 Y105.691 
G1 X-33.707 Y105.641 
G1 X-35.301 Y105.176 
G1 X-35.939 Y104.977 
G1 X-36.994 Y104.646 
G1 X-38.613 Y104.107 
G1 X-38.696 Y104.079 
G1 X-40.407 Y103.472 
G1 X-40.83 Y103.313 
G1 X-42.048 Y102.855 
G1 X-42.964 Y102.49 
G1 X-43.707 Y102.194 
G1 X-45.067 Y101.622 
G1 X-45.352 Y101.502 
G1 X-46.965 Y100.788 
G1 X-47.19 Y100.683 
G1 X-48.531 Y100.058 
G1 X-49.23 Y99.716 
G1 X-50.115 Y99.282 
G1 X-51.238 Y98.705 
G1 X-51.684 Y98.476 
G1 X-53.195 Y97.663 
G1 X-53.268 Y97.622 
G1 X-54.735 Y96.795 
G1 X-55.209 Y96.516 
G1 X-56.219 Y95.921 
G1 X-57.121 Y95.366 
G1 X-57.289 Y95.263 
G1 X-57.708 Y95.005 
G1 X-59.14 Y94.086 
G1 X-60.576 Y93.124 
G1 X-60.849 Y92.933 
G1 X-60.894 Y92.902 
G1 X-62.081 Y92.073 
G1 X-62.706 Y91.618 
G1 X-63.557 Y90.997 
G1 X-64.484 Y90.293 
G1 X-64.986 Y89.912 
G1 X-66.23 Y88.926 
G1 X-66.438 Y88.761 
G1 X-67.828 Y87.615 
G1 X-67.986 Y87.479 
G1 X-69.206 Y86.43 
G1 X-69.657 Y86.026 
G1 X-70.575 Y85.205 
G1 X-71.295 Y84.535 
G1 X-71.917 Y83.955 
G1 X-72.897 Y83.007 
G1 X-73.227 Y82.687 
G1 X-74.465 Y81.44 
G1 X-74.491 Y81.414 
G1 X-74.506 Y81.399 
G1 X-75.754 Y80.092 
G1 X-76.033 Y79.788 
G1 X-77.007 Y78.728 
G1 X-77.524 Y78.143 
G1 X-78.218 Y77.358 
G1 X-78.981 Y76.459 
G1 X-79.385 Y75.983 
G1 X-80.398 Y74.745 
G1 X-80.546 Y74.564 
G1 X-81.7 Y73.098 
G1 X-81.814 Y72.947 
G1 X-82.81 Y71.631 
G1 X-83.155 Y71.157 
G1 X-83.876 Y70.165 
G1 X-84.458 Y69.332 
G1 X-84.95 Y68.628 
G1 X-85.723 Y67.478 
G1 X-85.984 Y67.091 
G1 X-86.954 Y65.588 
G1 X-86.975 Y65.556 
G1 X-86.984 Y65.542 
G1 X-87.969 Y63.953 
G1 X-88.169 Y63.617 
G1 X-88.923 Y62.35 
G1 X-89.316 Y61.662 
G1 X-89.837 Y60.75 
G1 X-90.425 Y59.675 
G1 X-90.75 Y59.082 
G1 X-91.497 Y57.657 
G1 X-91.61 Y57.441 
G1 X-92.468 Y55.732 
G1 X-92.548 Y55.566 
G1 X-93.288 Y54.026 
G1 X-93.324 Y53.947 
G1 X-94.08 Y52.302 
G1 X-94.28 Y51.845 
G1 X-94.843 Y50.559 
G1 X-95.195 Y49.717 
G1 X-95.58 Y48.795 
G1 X-96.071 Y47.56 
G1 X-96.288 Y47.015 
G1 X-96.906 Y45.367 
G1 X-97.289 Y44.348 
G1 X-97.71 Y43.134 
G1 X-98.101 Y42.008 
G1 X-98.465 Y40.884 
G1 X-98.86 Y39.665 
G1 X-99.178 Y38.608 
G1 X-99.565 Y37.322 
G1 X-99.848 Y36.308 
G1 X-100.241 Y34.898 
G1 X-100.476 Y33.981 
G1 X-100.863 Y32.476 
G1 X-101.061 Y31.633 
G1 X-101.433 Y30.054 
G1 X-101.603 Y29.26 
G1 X-101.968 Y27.555 
G1 X-102.101 Y26.863 
G1 X-102.45 Y25.058 
G1 X-102.555 Y24.447 
G1 X-102.886 Y22.538 
G1 X-102.967 Y22.006 
G1 X-103.273 Y19.996 
G1 X-103.332 Y19.547 
G1 X-103.614 Y17.43 
G1 X-103.655 Y17.066 
G1 X-103.907 Y14.844 
G1 X-103.933 Y14.566 
G1 X-104.149 Y12.265 
G1 X-104.165 Y12.044 
G1 X-104.348 Y9.609 
G1 X-104.353 Y9.505 
G1 X-104.493 Y6.999 
G1 X-104.493 Y6.809 
G1 X-104.5 Y-62.684 
G1 X-104.5 Y-82.583 
G1 X-104.5 Y-82.757 
G1 X-104.441 Y-83.097 
G1 X-104.256 Y-84.152 
G1 X-104.087 Y-84.852 
G1 X-103.94 Y-85.461 
G1 X-103.699 Y-86.221 
G1 X-103.53 Y-86.752 
G1 X-103.217 Y-87.54 
G1 X-103.039 Y-87.987 
G1 X-102.642 Y-88.807 
G1 X-102.463 Y-89.177 
G1 X-101.975 Y-90.02 
G1 X-101.806 Y-90.311 
G1 X-101.216 Y-91.171 
G1 X-101.068 Y-91.387 
G1 X-100.371 Y-92.254 
G1 X-100.245 Y-92.41 
G1 X-100.217 Y-92.439 
G1 X-99.431 Y-93.27 
G1 X-99.35 Y-93.356 
G1 X-99.262 Y-93.436 
G1 X-98.413 Y-94.201 
G1 X-98.373 Y-94.237 
G1 X-98.235 Y-94.343 
G1 X-97.337 Y-95.037 
G1 X-97.132 Y-95.171 
G1 X-96.23 Y-95.763 
G1 X-95.968 Y-95.908 
G1 X-95.082 Y-96.401 
G1 X-94.74 Y-96.559 
G1 X-93.857 Y-96.967 
G1 X-93.46 Y-97.117 
G1 X-92.612 Y-97.437 
G1 X-92.124 Y-97.582 
G1 X-91.301 Y-97.827 
G1 X-90.753 Y-97.949 
G1 X-89.948 Y-98.129 
G1 X-89.598 Y-98.194 
G1 X-89.381 Y-98.235 
G1 X-89.049 Y-98.235 
G1 X-18.429 Y-98.256 
G1 X2.148 Y-98.256 
G1 X2.214 Y-98.255 
G1 X3.704 Y-98.224 
G1 X4.847 Y-98.188 
G1 X5.595 Y-98.164 
G1 X7.473 Y-98.064 
G1 X9.814 Y-97.938 
G1 X10.088 Y-97.915 
G1 X12.572 Y-97.706 
G1 X13.534 Y-97.625 
G1 X15.105 Y-97.447 
G1 X17.109 Y-97.22 
G1 X17.605 Y-97.149 
G1 X19.978 Y-96.809 
G1 X20.667 Y-96.71 
G1 X22.402 Y-96.408 
G1 X24.15 Y-96.103 
G1 X24.796 Y-95.97 
G1 X27.059 Y-95.503 
G1 X27.518 Y-95.408 
G1 X29.38 Y-94.963 
G1 X30.836 Y-94.614 
G1 X32.147 Y-94.256 
G1 X34.09 Y-93.724 
G1 X34.39 Y-93.632 
G1 X36.499 Y-92.98 
G1 X37.214 Y-92.759 
G1 X38.667 Y-92.257 
G1 X40.339 Y-91.679 
G1 X40.803 Y-91.501 
G1 X42.806 Y-90.733 
G1 X43.314 Y-90.538 
G1 X44.866 Y-89.882 
G1 X46.258 Y-89.292 
G1 X46.895 Y-88.996 
G1 X48.793 Y-88.114 
G1 X49.086 Y-87.977 
G1 X50.743 Y-87.136 
G1 X51.904 Y-86.547 
G1 X52.662 Y-86.128 
G1 X54.456 Y-85.137 
G1 X54.598 Y-85.058 
G1 X56.297 Y-84.041 
G1 X57.121 Y-83.548 
G1 X58.103 Y-82.914 
G1 X59.588 Y-81.954 
G1 X59.874 Y-81.755 
G1 X61.523 Y-80.61 
G1 X61.978 Y-80.293 
G1 X63.217 Y-79.368 
G1 X64.324 Y-78.541 
G1 X64.878 Y-78.097 
G1 X66.429 Y-76.856 
G1 X66.551 Y-76.758 
G1 X68.011 Y-75.507 
G1 X68.741 Y-74.882 
G1 X69.563 Y-74.13 
G1 X70.848 Y-72.952 
G1 X71.082 Y-72.723 
G1 X72.488 Y-71.346 
G1 X72.886 Y-70.957 
G1 X73.927 Y-69.87 
G1 X74.871 Y-68.885 
G1 X75.337 Y-68.366 
G1 X76.65 Y-66.906 
G1 X76.775 Y-66.766 
G1 X77.982 Y-65.333 
G1 X78.591 Y-64.61 
G1 X79.281 Y-63.736 
G1 X80.379 Y-62.348 
G1 X80.551 Y-62.117 
G1 X81.724 Y-60.535 
G1 X82.06 Y-60.082 
G1 X82.916 Y-58.85 
G1 X83.717 Y-57.699 
G1 X84.079 Y-57.144 
G1 X85.159 Y-55.488 
G1 X85.257 Y-55.338 
G1 X86.245 Y-53.721 
G1 X86.751 Y-52.893 
G1 X87.3 Y-51.927 
G1 X88.286 Y-50.194 
G1 X88.469 Y-49.873 
G1 X89.274 Y-48.342 
G1 X90.054 Y-46.86 
G1 X90.24 Y-46.476 
G1 X91.121 Y-44.665 
G1 X91.556 Y-43.769 
G1 X92.013 Y-42.747 
G1 X92.84 Y-40.898 
G1 X92.983 Y-40.579 
G1 X93.659 Y-38.936 
G1 X94.301 Y-37.375 
G1 X94.458 Y-36.959 
G1 X95.181 Y-35.04 
G1 X95.554 Y-34.051 
G1 X95.909 Y-33.021 
G1 X96.582 Y-31.066 
G1 X96.704 Y-30.712 
G1 X97.238 Y-29.007 
G1 X97.759 Y-27.344 
G1 X97.875 Y-26.934 
G1 X98.447 Y-24.919 
G1 X98.741 Y-23.882 
G1 X99.015 Y-22.81 
G1 X99.538 Y-20.764 
G1 X99.623 Y-20.431 
G1 X100.036 Y-18.622 
G1 X100.43 Y-16.897 
G1 X100.46 Y-16.745 
G1 X100.46 Y-16.743 
REPEAT DOWNSLOPE ENDLABEL
G1 X100.618 Y-15.959
G1 X57.686 Y7.642
REPEAT UPSLOPE ENDLABEL
G1 X57.686 Y-33.327 
G1 X60.854 Y-33.327 
G1 X60.854 Y7.642 
G1 X76.242 Y7.642 
G1 X76.242 Y10.16 
G1 X60.854 Y10.16 
G1 X57.686 Y10.16 
G1 X42.364 Y10.16 
G1 X42.364 Y7.642 
G1 X57.686 Y7.642 
REPEAT DOWNSLOPE ENDLABEL
G1 X57.686 Y6.842
M97
M02

;---------------Upslope-------------------
UPSLOPE:
MSG("Beginn Layer n mit [Cycle Start]")
M00
MSG("Layer n wird aufgebaut")

;Upslope und Draht foerdern
G0 G90 SQ _SQH) SL _SLH)
M61                    ;Draht ein                       
G0 G90 VD2=(_vD) 
G4 F _tups             ;Upslopefehler ausgleichen
G1 G64
RET

;---------------Downslope-------------------
DOWNSLOPE:
;Draht abstellen und Downslope ohne Z-Verfahrbefehl           

G4 F _tdos             ;Downslopefehler ausgleichen
M62                    ;Draht aus
G0 G90 SQ 0) SL _SLb)  ;Strahlstrom aus

G1 G64

RET
